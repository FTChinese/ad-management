<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Hennessy</title><style>body,html{margin:0;padding:0;width:969px}.ad-container{width:969px;position:relative;cursor:pointer;overflow-y:hidden}.mode-img{height:90px;display:block}.mode-img .banner-img{width:100%;height:100%}.mode-img .banner-img a{width:100%;height:100%}.mode-img .banner-img img{width:100%;height:100%;display:block}.mode-img .unfold-sign{position:absolute;z-index:20;top:2px;right:2px;width:53px;height:20px}.mode-video{height:90px;display:none}.mode-video .video{width:100%;height:100%;overflow-y:hidden}.mode-video .video video{display:block;width:969px;height:400px}.mode-video .post-pic{position:absolute;top:0;left:0;width:100%;height:100%;overflow-y:hidden}.mode-video .post-pic img{display:none;width:969px;height:400px}.mode-video a{position:absolute;top:0;left:0;width:100%;height:100%;z-index:10;display:block}.mode-video .pause-play-btn{position:absolute;width:25px;height:25px;top:342px;left:15px;z-index:20}.mode-video .pause-play-btn img{width:100%;height:100%}.mode-video .close-btn{position:absolute;z-index:20;width:53px;height:20px;top:2px;right:2px}.show{display:block}.hide{display:none}.pullup-close{-webkit-animation:shrinkToClose 1s linear;-moz-animation:shrinkToClose 1s linear;-o-animation:shrinkToClose 1s linear;animation:shrinkToClose 1s linear}.pushdown-open{-webkit-animation:pushdownToOpen 1s linear;-moz-animation:pushdownToOpen 1s linear;-o-animation:pushdownToOpen 1s linear;animation:pushdownToOpen 1s linear}@-webkit-keyframes shrinkToClose{from{width:969px;height:400px}to{width:969px;height:90px}}@-moz-keyframes shrinkToClose{from{width:969px;height:400px}to{width:969px;height:90px}}@-o-keyframes shrinkToClose{from{width:969px;height:400px}to{width:969px;height:90px}}@keyframes shrinkToClose{from{width:969px;height:400px}to{width:969px;height:90px}}@-webkit-keyframes pushdownToOpen{from{width:969px;height:90px}to{width:969px;height:400px}}@-moz-keyframes pushdownToOpen{from{width:969px;height:90px}to{width:969px;height:400px}}@-o-keyframes pushdownToOpen{from{width:969px;height:90px}to{width:969px;height:400px}}@keyframes pushdownToOpen{from{width:969px;height:90px}to{width:969px;height:400px}}</style></head><body><div id="imgSection" class="ad-container mode-img"><div class="banner-img"><a id="bannerA" href="https://www.hennessy.com/zh-cn/hennessyparadisimperial/" target="_blank"><img id="bannerImg" src="http://i.ftimg.net/picture/2/000071402_piclink.jpg" alt="banner img"></a></div><div id="openBtn" class="unfold-sign"><img src="http://i.ftimg.net/picture/5/000071405_piclink.jpg" alt="unfold sign"></div></div><div id="videoSection" class="ad-container mode-video"><div class="video"><video id="adVideo" preload="auto" webkit-playsinline="webkit-playsinline" playsinline="playsinline" poster="http://i.ftimg.net/picture/3/000071403_piclink.jpg"><source src="http://ds-cc.serving-sys.com/BurstingRes/Site-3968/Type-16/3dd3a38b-68ff-4a3d-a842-e076dca5a631.mp4" type="video/mp4"></video></div><div class="post-pic"><img id="postPic" src="http://i.ftimg.net/picture/3/000071403_piclink.jpg" alt="post img"></div><a id="videoA" href="https://www.hennessy.com/zh-cn/hennessyparadisimperial/" target="_blank"></a><div id="pauseBtn" class="pause-play-btn show"><img src="http://i.ftimg.net/picture/7/000071407_piclink.jpg" alt="pause"></div><div id="playBtn" class="pause-play-btn hide"><img src="http://i.ftimg.net/picture/6/000071406_piclink.jpg" alt="play"></div><div id="closeBtn" class="close-btn"><img src="http://i.ftimg.net/picture/4/000071404_piclink.jpg" alt="close"></div></div><script>!function(){"use strict";class e{constructor(e,t){e instanceof HTMLElement?this.root=e:(this.root=document.getElementById(e),console.log(this.root)),"prod"!==t&&(t="dev"),this.root.querySelector("#openBtn")instanceof HTMLElement&&(this.open=this.root.querySelector("#openBtn")),this.root.querySelector("#bannerImg")instanceof HTMLElement&&(this.img=this.root.querySelector("#bannerImg")),this.root.querySelector("#bannerA")instanceof HTMLElement&&(this.a=this.root.querySelector("#bannerA")),"prod"===t&&this.dynamicGetHTMLData()}dynamicGetHTMLData(){window.parent&&window.parent.detailPage&&window.parent.bannerImg&&this.img&&this.a&&(this.a.href=window.parent.detailPage,this.img.src=window.parent.bannerImg)}}class t{constructor(e,t){e instanceof HTMLElement?this.root=e:(this.root=document.getElementById(e),console.log(this.root)),"prod"!==t&&(t="dev"),this.root.querySelector("#adVideo")instanceof HTMLElement&&(this.video=this.root.querySelector("#adVideo")),this.root.querySelector("#postPic")instanceof HTMLElement&&(this.postPic=this.root.querySelector("#postPic")),this.root.querySelector("#pauseBtn")instanceof HTMLElement&&(this.pause=this.root.querySelector("#pauseBtn")),this.root.querySelector("#playBtn")instanceof HTMLElement&&(this.play=this.root.querySelector("#playBtn")),this.root.querySelector("#closeBtn")instanceof HTMLElement&&(this.close=this.root.querySelector("#closeBtn")),this.root.querySelector("#adVideo source")instanceof HTMLElement&&(this.videoSource=this.root.querySelector("#adVideo source")),this.root.querySelector("#videoA")instanceof HTMLElement&&(this.videoA=this.root.querySelector("#videoA")),this.clickToPause(),this.clickToPlay(),"prod"===t&&(console.log("prod"),this.dynamicGetHTMLData())}clickToPause(){this.pause.addEventListener("click",()=>{this.video.pause(),this.pause.style.display="none",this.play.style.display="block"},!1)}clickToPlay(){this.play.addEventListener("click",()=>{this.video.play(),this.play.style.display="none",this.pause.style.display="block"},!1)}dynamicGetHTMLData(){const e=window.parent;e&&e.detailPage&&e.videoPoster&&e.sourceUrl&&e.sourceType&&e.detailPage&&this.video&&this.videoSource&&this.postPic&&this.videoA&&(console.log("aaaaaaa"),this.video.poster=e.videoPoster,this.videoSource.src=e.sourceUrl,this.videoSource.type=e.sourceType,this.videoA.href=e.detailPage,this.postPic.src=e.videoPoster)}}const o={getItem:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t,o,s,i,n){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var r="";if(o)switch(o.constructor){case Number:r=o===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+o;break;case String:r="; expires="+o;break;case Date:r="; expires="+o.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+r+(i?"; domain="+i:"")+(s?"; path="+s:"")+(n?"; secure":""),!0},removeItem:function(e,t,o){return!(!e||!this.hasItem(e))&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(o?"; domain="+o:"")+(t?"; path="+t:""),!0)},hasItem:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=0;t<e.length;t++)e[t]=decodeURIComponent(e[t]);return e}};class s{constructor(e,t,o){this.imgObj=e,this.videoObj=t;let s="",i="";if(window.parent&&window.parent.parent){"prod"!=o?(o="dev",s="banner0Inner",i="banner0"):(s=window.parent.innerFrameId,i=window.parent.parentId);var n=window.parent.document.getElementById(s),r=window.parent.parent.document.getElementById(i);n&&r&&(this.innerIframeId=s,this.outerIframeId=i,this.innerIframe=n,this.outerIframe=r,this.innerIframe.style.height="90px",this.outerIframe.style.height="90px",this.injectCssToParents(),this.dealwithAncestors())}this.pushDownToOpen=this.pushDownToOpen.bind(this),this.pullUpToClose=this.pullUpToClose.bind(this),this.autoOpen(),this.clickToOpen(),this.autoClose(),this.clickToClose()}injectCssToParents(){if(!window.parent||!window.parent.parent)return;const e=window.parent.document.getElementsByTagName("head")[0];console.log(e);const t=window.parent.parent.document.getElementsByTagName("head")[0];console.log(t);const o=document.createElement("style");o.innerHTML=".pullup-close{-webkit-animation:shrinkToClose 1s linear;-moz-animation:shrinkToClose 1s linear;-o-animation:shrinkToClose 1s linear;animation:shrinkToClose 1s linear}.pushdown-open{-webkit-animation:pushdownToOpen 1s linear;-moz-animation:pushdownToOpen 1s linear;-o-animation:pushdownToOpen 1s linear;animation:pushdownToOpen 1s linear}@-webkit-keyframes shrinkToClose{from{width:969px;height:400px}to{width:969px;height:90px}}@-moz-keyframes shrinkToClose{from{width:969px;height:400px}to{width:969px;height:90px}}@-o-keyframes shrinkToClose{from{width:969px;height:400px}to{width:969px;height:90px}}@keyframes shrinkToClose{from{width:969px;height:400px}to{width:969px;height:90px}}@-webkit-keyframes pushdownToOpen{from{width:969px;height:90px}to{width:969px;height:400px}}@-moz-keyframes pushdownToOpen{from{width:969px;height:90px}to{width:969px;height:400px}}@-o-keyframes pushdownToOpen{from{width:969px;height:90px}to{width:969px;height:400px}}@keyframes pushdownToOpen{from{width:969px;height:90px}to{width:969px;height:400px}}";const s=o.cloneNode(!0);e.appendChild(o),t.appendChild(s),console.log(e),console.log(t)}dealwithAncestors(){if(!(this.outerIframeId&&this.outerIframe&&this.outerIframe.parentNode))return;const e=this.outerIframeId+"content",t=this.outerIframe.parentNode;t.id=e,window.parent.parent.document.styleSheets[0]&&window.parent.parent.document.styleSheets[0].insertRule("#"+e+":before { right: auto; left:0;}",0);let o=t;const s=window.parent.parent.document.body;for(;o!=s;)o.style.height="auto",o.parentNode&&(o=o.parentNode)}pushDownToOpen(){const e=this.videoObj.root,t=this.videoObj.postPic,o=this.videoObj.video,s=this.imgObj.root;e.classList.remove("pullup-close"),e.classList.add("pushdown-open"),e.style.height="90px",e.style.display="block",t.style.display="block",this.innerIframe&&this.outerIframe&&(this.innerIframe.style.height="90px",this.outerIframe.style.height="90px",this.innerIframe.classList.remove("pullup-close"),this.innerIframe.classList.add("pushdown-open"),this.outerIframe.classList.remove("pullup-close"),this.outerIframe.classList.add("pushdown-open")),s.style.display="none",setTimeout(()=>{t.style.display="none",e.classList.remove("pushdown-open"),e.style.height="400px",this.innerIframe&&this.outerIframe&&(this.innerIframe.style.height="400px",this.outerIframe.style.height="400px",this.innerIframe.classList.remove("pushdown-open"),this.outerIframe.classList.remove("pushdown-open")),o instanceof HTMLElement&&o.play()},1e3)}pullUpToClose(){this.videoObj.root.classList.add("pullup-close"),this.innerIframe&&this.outerIframe&&(this.innerIframe.style.height="400px",this.outerIframe.style.height="400px",this.innerIframe.classList.remove("pushdown-open"),this.innerIframe.classList.add("pullup-close"),this.outerIframe.classList.remove("pushdown-open"),this.outerIframe.classList.add("pullup-close")),setTimeout(()=>{this.videoObj.root.style.display="none",this.videoObj.root.classList.remove("pullup-close"),this.videoObj.video.currentTime=0,this.videoObj.play.style.display="none",this.videoObj.pause.style.display="block",this.imgObj.root.style.display="block",this.innerIframe&&this.outerIframe&&(this.innerIframe.style.height="90px",this.outerIframe.style.height="90px",this.innerIframe.classList.remove("pullup-close"),this.outerIframe.classList.remove("pullup-close"))},1e3)}autoOpen(){let e=o.getItem("pushdownAd");if(console.log("pushdownAd="+e),!e){window.addEventListener("load",this.pushDownToOpen,!1);let e=new Date;e.setTime(e.getTime()+864e5),o.setItem("pushdownAd","hasLoaded",e)}}clickToOpen(){this.imgObj.open.addEventListener("click",this.pushDownToOpen,!1)}clickToClose(){this.videoObj.close.addEventListener("click",this.pullUpToClose,!1)}autoClose(){this.videoObj.video.addEventListener("ended",this.pullUpToClose,!1)}}new s(new e("imgSection","prod"),new t("videoSection","prod"),"prod")}();
//# sourceMappingURL=main.js.map</script></body></html>